(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-90af"],{"4non":function(t,e,i){},"6up8":function(t,e,i){"use strict";i.r(e);var s=i("gDS+"),n=i.n(s),a=i("QbLZ"),r=i.n(a),o=i("I+Ds"),l=i("WIBD"),c=i("GQeE"),u=i.n(c);var d={props:{accept:{type:String,default:".xlsx"},param:{type:Object,default:function(){return{}}},action:{type:String,default:""},importWay:{type:String,default:""},hasImportWay:{type:Boolean,default:!0},btnTxt:{type:String,default:"上传"}},data:function(){return{isTimeout:!1}},computed:r()({},Object(l.mapGetters)(["isHideUpload","isUploaded","ajaxing","fileList"])),watch:{importWay:function(t){this.$emit("update:importWay",t)}},methods:{ajax:function(t){if("undefined"!=typeof XMLHttpRequest){var e=this,i=new XMLHttpRequest,s=t.action;i.timeout=36e5,i.ontimeout=function(t){e.isTimeout=!0,e.msg("数据太大,请求已超时")},i.upload&&(i.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.onProgress(e)});var n=new FormData;t.data&&u()(t.data).map(function(e){n.append(e,t.data[e])}),n.append(t.filename,t.file),i.onerror=function(e){t.onError(e)},i.onload=function(){if(i.status<200||i.status>=300)return t.onError(function(t,e,i){var s=void 0;s=i.response?i.status+" "+(i.response.error||i.response):i.responseText?i.status+" "+i.responseText:"fail to post "+t+" "+i.status;var n=new Error(s);return n.status=i.status,n.method="post",n.url=t,n}(s,0,i));t.onSuccess(function(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(t){return e}}(i))},i.open("post",s,!0),t.withCredentials&&"withCredentials"in i&&(i.withCredentials=!0);var a=t.headers||{};for(var r in a)a.hasOwnProperty(r)&&null!==a[r]&&i.setRequestHeader(r,a[r]);return i.send(n),i}},removeEvent:function(t,e){this.isTimeout=!1,this.$store.dispatch("ChangeCompUploadStatus",{ajaxing:!1,isUploaded:!1,isHideUpload:e.length>0,fileList:e})},changeEvent:function(t,e){this.isTimeout=!1,this.$store.dispatch("ChangeCompUploadStatus",{ajaxing:!0,isUploaded:!1,isHideUpload:!0,fileList:e})},handleError:function(t){this.$message.error("上传失败"),this.$store.dispatch("ChangeCompUploadStatus",{ajaxing:!1,isUploaded:!1,isHideUpload:!1})},handleSuccess:function(t){var e=this;1==t.retCode?this.$emit("success",function(){(function(){this.$store.dispatch("ChangeCompUploadStatus",{isUploaded:!1,isHideUpload:!1,ajaxing:!1}),this.$refs.upload&&this.$refs.upload.clearFiles()}).call(e)}):this.nvMsg(t.err.split("<br>"),"error",6e3)},beforeUpload:function(t){for(var e=this.accept.split(",").map(function(t){return new RegExp("\\"+$.trim(t)+"$")}),i=!1,s=0;s<e.length;s++)if(e[s].test(t.name)){i=!0;break}if(!i)return this.$alert("文件"+t.name+", 不符合文件格式要求。 请上传"+this.accept+"类型的文件。"),i;this.ajaxing=!0},close:function(){this.$emit("close")},save:function(){this.$refs.upload.submit()}}},p=(i("UELl"),i("KHd+")),f=Object(p.a)(d,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload"},[i("el-upload",{ref:"upload",class:["file-upload",{"hide-upload":t.isHideUpload,"is-timeout":t.isTimeout,"is-uploaded":t.isUploaded&&t.ajaxing}],attrs:{data:t.param,accept:t.accept,action:t.action,fileList:t.fileList,multiple:!1,"auto-upload":!1,"with-credentials":!0,"on-remove":t.removeEvent,"on-change":t.changeEvent,"on-error":t.handleError,"on-progress":t.progressEvent,"on-success":t.handleSuccess,"http-request":t.ajax,"before-upload":t.beforeUpload,drag:""}},[i("i",{staticClass:"el-icon-upload"}),t._v(" "),i("div",{staticClass:"el-upload__text"},[t._v("请先导出模板，再将文件拖到此处，或"),i("em",[t._v("点击上传")])])]),t._v(" "),t._t("btns")],2)},[],!1,null,null,null);f.options.__file="upload.vue";var m={components:{NvUpload:f.exports},mixins:[i("kKWf").a],data:function(){return{IMPORT_DATA:this.$API.IMPORT_DATA}},computed:r()({},Object(l.mapGetters)(["uploadStatus","uploadLoading"])),methods:{uploadFn:function(){this.$refs.refUpload.fileList.length?this.$refs.refUpload.save():this.$message.error("请选择文件")},successFn:function(t){this.$store.dispatch("GetUploadPercent",t)}}},v=(i("CJy8"),Object(p.a)(m,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"area area-tpl"},[i("div",{staticClass:"area-title"},[t._v("数据 导入 & 导出")]),t._v(" "),i("div",{staticClass:"area-content"},[i("div",{staticStyle:{margin:"10px 0"}},[i("el-button",{attrs:{loading:t.downLoading,size:"mini",type:"primary"},on:{click:function(e){t.download("exportData","")}}},[t._v("导出")])],1),t._v(" "),i("div",{staticClass:"upload-area"},[i("nv-upload",{ref:"refUpload",attrs:{action:t.IMPORT_DATA,accept:".xlsx"},on:{success:t.successFn}},[i("template",{slot:"btns"},[i("el-button",{staticClass:"btn2",attrs:{loading:t.uploadLoading,size:"small",type:"primary",icon:"icon icon-upload"},on:{click:t.uploadFn}},[t._v("导入")])],1)],2)],1),t._v(" "),t.uploadLoading?i("div",{staticClass:"area-progress"},[t._v("\n      "+t._s(t.uploadStatus)+"\n    ")]):t._e()])])},[],!1,null,null,null));v.options.__file="udTpl.vue";var h=v.exports,g={occ:"修改控制中心配置数据时，立即向控制中心TVS和下属各车站／车辆段发送配置数据",station:"修改本车站配置数据时，立即向控制中心和本车站TVS发送配置数据"},S={props:{isNotSuper:{type:Boolean,default:!1},model:{type:Object,default:function(){return{}}}},computed:r()({},Object(l.mapGetters)(["siteType"]),{txt:function(){return Util.isEmptyFn(this.siteType)?"未配置站点类型，无法得知如何发送配置数据":g[this.siteType.toLowerCase()]},Sync:{get:function(){return this.model.Sync},set:function(t){return this.model.Sync=t}}}),methods:{checkSyncFn:function(){var t=this;Service.setConfig({Sync:this.model.Sync}).then(function(){return t.$message.success("操作成功")})},syncDataFn:function(){var t=this;Service.syncData().then(function(e){return t.$message.success("同步成功")})}}},b=(i("gJuD"),Object(p.a)(S,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"area area-sync"},[i("div",{staticClass:"area-title"},[t._v("数据同步设置")]),t._v(" "),i("div",{staticClass:"container"},[i("div",[i("el-checkbox",{on:{change:t.checkSyncFn},model:{value:t.Sync,callback:function(e){t.Sync=e},expression:"Sync"}},[t._v(t._s(t.txt))])],1),t._v(" "),i("div",{staticClass:"field"},[i("span",{staticClass:"label"}),t._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.syncDataFn}},[t._v("立即同步数据")])],1)])])},[],!1,null,null,null));b.options.__file="dataSync.vue";var _=b.exports,y={props:{isNotSuper:{type:Boolean,default:!1},model:{type:Object,default:function(){return{}}}},computed:{ControlReleaseTime:{get:function(){return this.model.ControlReleaseTime},set:function(t){this.model.ControlReleaseTime=t}},ControlOsdEnable:{get:function(){return this.model.ControlOsdEnable},set:function(t){this.model.ControlOsdEnable=t}}},methods:{submit:function(t){var e=this;Service.setConfig(t).then(function(t){e.$message.success("操作成功")})},releaseTimeFn:function(t){var e=this.model.ControlReleaseTime;/^[1-9]\d{0,3}$/.test(e)&&e>0&&e<=3600?this.submit({ControlReleaseTime:this.ControlReleaseTime}):this.$message.error("释放延时时间，请输入1 ~ 3600 范围内的整数")},startFn:function(t){this.submit(t?{ControlOsdEnable:this.ControlOsdEnable,ControlReleaseTime:this.ControlReleaseTime}:{ControlOsdEnable:this.ControlOsdEnable})}}},C=(i("XHCu"),Object(p.a)(y,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"area area-osd"},[i("div",{staticClass:"area-title"},[t._v("云台控制设置")]),t._v(" "),i("div",{staticClass:"container"},[i("div",{staticClass:"field"},[i("span",{staticClass:"label"},[t._v("OSD显示")]),t._v(" "),i("el-switch",{attrs:{disabled:t.isNotSuper,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:t.startFn},model:{value:t.ControlOsdEnable,callback:function(e){t.ControlOsdEnable=e},expression:"ControlOsdEnable"}})],1),t._v(" "),i("div",{staticClass:"split-line"}),t._v(" "),i("div",{staticClass:"field clearfix"},[i("span",{staticClass:"label"},[t._v("释放延时")]),t._v(" "),i("el-input",{attrs:{disabled:t.isNotSuper,"auto-complete":"off"},model:{value:t.ControlReleaseTime,callback:function(e){t.ControlReleaseTime=t._n(e)},expression:"ControlReleaseTime"}},[i("template",{slot:"append"},[t._v("秒")])],2),t._v(" "),i("el-button",{staticClass:"btn-save",attrs:{disabled:t.isNotSuper,type:"primary",size:"mini"},on:{click:function(e){t.releaseTimeFn("ControlReleaseTime")}}},[t._v("保存")]),t._v(" "),t._m(0)],1)])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"tip"},[e("i",{staticClass:"tip-item icon icon-tip"}),this._v("请输入1 ~ 3600范围内的整数\n      ")])}],!1,null,"4c967e37",null));C.options.__file="osd.vue";var k=C.exports,F=i("BNNy"),x={props:{isNotSuper:{type:Boolean,default:!1},model:{type:Object,default:function(){return{}}}},data:function(){return{rules:{ip:[F.a.required,F.a.ip],port:[F.a.required,F.a.port]}}},computed:{timeSet:function(){return this.model.TimingSetting},schedule:{get:function(){if("string"==typeof this.timeSet.schedule){var t=this.timeSet.schedule.split(":");return new Date(1970,1,1,t[0],t[1],t[2])}return this.timeSet.schedule},set:function(t){var e=t.getHours()<10?"0"+t.getHours():t.getHours(),i=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),s=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();this.timeSet.schedule=e+":"+i+":"+s}}},methods:{startFn:function(t){var e=this;t?this.$refs.timesetForm.validate(function(t){if(!t)return!1;Service.setConfig({TimingSetting:e.timeSet}).then(function(t){return e.$message.success("操作成功")})}):Service.setConfig({TimingSetting:this.timeSet}).then(function(t){return e.$message.success("操作成功")})},clockSyncFn:function(){var t=this;this.$refs.timesetForm.validate(function(e){if(!e)return!1;Service.clockSync({TimingSetting:t.timeSet}).then(function(){return t.$message.success("服务器已向TVS发出立即同步时钟命令！")})})},saveNtpFn:function(){var t=this;Service.setConfig({TimingSetting:this.timeSet}).then(function(e){t.$message.success("操作成功")})}}},w=(i("EdEn"),Object(p.a)(x,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"area area-timeset"},[i("div",{staticClass:"area-title"},[t._v("系统校时设置")]),t._v(" "),i("div",{staticClass:"container"},[i("el-form",{ref:"timesetForm",staticClass:"form-timeset",attrs:{model:t.timeSet,rules:t.rules,"label-width":"140px"}},[i("el-form-item",{attrs:{label:"自动校时"}},[i("el-switch",{staticClass:"nv-switch",attrs:{disabled:t.isNotSuper,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:t.startFn},model:{value:t.timeSet.useNTP,callback:function(e){t.$set(t.timeSet,"useNTP",e)},expression:"timeSet.useNTP"}})],1),t._v(" "),i("el-form-item",{staticClass:"check-time clearfix",attrs:{label:"",prop:"schedule"}},[i("span",{staticClass:"prev"},[t._v("每天")]),t._v(" "),i("el-time-picker",{attrs:{disabled:t.isNotSuper,clearable:!1,type:"fixed-time",placeholder:"选择时间"},model:{value:t.schedule,callback:function(e){t.schedule=e},expression:"schedule"}}),i("span",{staticClass:"post"},[t._v("时进行同步")])],1),t._v(" "),i("el-form-item",{attrs:{label:"NTP服务器",prop:"ip"}},[i("el-input",{attrs:{disabled:t.isNotSuper},model:{value:t.timeSet.ip,callback:function(e){t.$set(t.timeSet,"ip",e)},expression:"timeSet.ip"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"端口",prop:"port"}},[i("el-input",{attrs:{disabled:t.isNotSuper},model:{value:t.timeSet.port,callback:function(e){t.$set(t.timeSet,"port",e)},expression:"timeSet.port"}})],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{disabled:t.isNotSuper,type:"primary",size:"mini"},on:{click:t.saveNtpFn}},[t._v("保存")]),t._v(" "),i("el-button",{attrs:{disabled:t.isNotSuper,type:"primary",size:"mini"},on:{click:t.clockSyncFn}},[t._v("立即校时")]),t._v(" "),i("span",{staticClass:"tip",staticStyle:{width:"380px","margin-left":"-80px"}},[i("i",{staticClass:"tip-item icon icon-tip",staticStyle:{color:"red",display:"inline-block"}}),t._v(" "),i("i",[t._v("风险提示：手动强行校时,可能会导致录像空缺（向前），或者录像覆盖（靠后），时间差距太大可能会导致服务停止工作。")])])],1)],1)],1)])},[],!1,null,null,null));w.options.__file="timeSet.vue";var T=w.exports,B={props:{isNotSuper:{type:Boolean,default:!1},model:{type:Object,default:function(){return{}}}},computed:{StorageBackupSetting:{get:function(){return this.model.StorageBackupSetting},set:function(t){this.model.StorageBackupSetting=t,this.model.ServerBackupSetting.ss.backup=t}},tvs:{get:function(){return this.model.ServerBackupSetting.tvs.backup},set:function(t){this.model.ServerBackupSetting.tvs.backup=t}}},methods:{ssFn:function(t){var e=this;Service.setConfig({StorageBackupSetting:this.StorageBackupSetting,ServerBackupSetting:this.model.ServerBackupSetting}).then(function(t){e.$message.success("操作成功")})},tvsFn:function(t){var e=this;Service.setConfig({ServerBackupSetting:this.model.ServerBackupSetting}).then(function(t){e.$message.success("操作成功")})}}},E=Object(p.a)(B,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"area area-server-backup"},[i("div",{staticClass:"area-title"},[t._v("服务器备份设置")]),t._v(" "),i("div",{staticClass:"container"},[i("div",{staticClass:"field"},[t._m(0),t._v(" "),i("el-switch",{attrs:{disabled:t.isNotSuper,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:t.tvsFn},model:{value:t.tvs,callback:function(e){t.tvs=e},expression:"tvs"}})],1),t._v(" "),i("div",{staticClass:"field"},[t._m(1),t._v(" "),i("el-switch",{attrs:{disabled:t.isNotSuper,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:t.ssFn},model:{value:t.StorageBackupSetting,callback:function(e){t.StorageBackupSetting=e},expression:"StorageBackupSetting"}})],1)])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"label"},[this._v("启用"),e("b",{staticStyle:{color:"#F56C6C"}},[this._v("视频")]),this._v("服务器异地备份功能")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"label"},[this._v("启用"),e("b",{staticStyle:{color:"#F56C6C"}},[this._v("存储")]),this._v("服务器异地备份功能")])}],!1,null,null,null);E.options.__file="serverBackup.vue";var D=E.exports,N={props:{isNotSuper:{type:Boolean,default:!1},model:{type:Object,default:function(){return{}}}},data:function(){return{defaultBackupDay:"7",BackUpDaysOpt:$.db.getConsts().BackUpDays||[],restoreFile:"",restoreFiles:[]}},computed:r()({},Object(l.mapGetters)(["userType"]),{backupDisabled:function(){return!this.model.BackUpDays},on:{get:function(t){return this.model.BackUpDays>0},set:function(t){this.model.BackUpDays=t?this.model.BackUpDays?this.model.BackUpDays:this.defaultBackupDay:""}},BackUpDays:{get:function(){return this.model.BackUpDays},set:function(t){this.model.BackUpDays=t}}}),mounted:function(){var t=this;Service.listBackupFile().then(function(e){t.restoreFiles=e.items.map(function(t){return{id:t,name:t}})})},methods:{changeBackupDays:function(){var t=this;Service.setConfig({BackUpDays:this.on?this.BackUpDays:""}).then(function(){return t.$message.success("操作成功")})},backupFn:function(){var t=this;Service.backup().then(function(){return t.$message.success("操作成功")})},restoreFn:function(){var t=this;if(!this.restoreFile)return this.msg("请选择还原文件");var e=this.$createElement,i=e("div",[e("p","还原不正确的数据库备份，可能会导致系统无法使用。"),e("p","请谨慎选择还原文件！！！"),e("p","是否继续操作？")]);this.$confirm(i,"数据库还原","手动还原",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Service.restore({fileName:t.restoreFile})},function(){return t.$message.warning("操作取消")})}}},U=Object(p.a)(N,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"area area-backup"},[i("div",{staticClass:"area-title"},[i("span",[t._v("备份")]),t._v(" "),0==t.userType?i("span",[t._v(" & 手动还原")]):t._e()]),t._v(" "),i("div",{staticClass:"container"},[i("div",{staticClass:"field"},[i("span",{staticClass:"label"},[t._v("自动备份功能")]),t._v(" "),i("el-switch",{staticClass:"nv-switch",attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:t.changeBackupDays},model:{value:t.on,callback:function(e){t.on=e},expression:"on"}})],1),t._v(" "),i("div",{staticClass:"field"},[i("span",{staticClass:"label"},[t._v("备份间隔")]),t._v(" "),i("el-select",{attrs:{disabled:!t.on,placeholder:"请选择备份时间间隔"},on:{change:t.changeBackupDays},model:{value:t.BackUpDays,callback:function(e){t.BackUpDays=e},expression:"BackUpDays"}},t._l(t.BackUpDaysOpt,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),i("div",{staticClass:"field",staticStyle:{"margin-bottom":"6px"}},[i("span",{staticClass:"label"}),t._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.backupFn}},[t._v("立即备份")])],1)]),t._v(" "),0==t.userType?i("div",{staticClass:"container"},[i("div",{staticClass:"spliter",staticStyle:{width:"400px",position:"relative",left:"20px","border-top":"2px dashed #ddd"}}),t._v(" "),i("div",{staticClass:"field"},[i("span",{staticClass:"label"},[t._v("请选择还原文件")]),t._v(" "),i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.restoreFile,callback:function(e){t.restoreFile=e},expression:"restoreFile"}},t._l(t.restoreFiles,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),i("div",{staticClass:"field"},[i("span",{staticClass:"label"}),t._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.restoreFn}},[t._v("立即还原")])],1)]):t._e()])},[],!1,null,null,null);U.options.__file="backup2restore.vue";var A={components:{DataSync:_,Osd:k,TimeSet:T,ServerBackup:D,BackupRestore:U.exports,UdTpl:h},mixins:[o.a],data:function(){return{sync:!1,model:{Sync:!0,ControlOsdEnable:!0,ControlReleaseTime:15,StorageBackupSetting:!0,ServerBackupSetting:{tvs:{backup:!0},ss:{backup:!0}},TimingSetting:{schedule:"01:00:00",useNTP:!0},BackUpDays:"7"},restoreFiles:[]}},computed:r()({},Object(l.mapGetters)(["siteType"]),{isNotSuper:function(){return!("OCC"==this.siteType)}}),created:function(){var t=this;Service.listConfig().then(function(e){return t.setData(e.data)})},methods:{setData:function(t){var e=JSON.parse(n()(t)),i={};for(var s in e)i[s]="BackUpDays"==s?e[s]:JSON.parse(e[s]);this.model=i},submitFn:function(){var t=this;Service.setConfig(this.model).then(function(e){return t.$message.success("配置成功")})}}},O=(i("d9vJ"),Object(p.a)(A,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-config"},[i("el-row",{attrs:{type:"flex",justify:"space-between"}},[i("el-col",{attrs:{span:11}},[i("data-sync",{attrs:{model:t.model}}),t._v(" "),i("osd",{attrs:{isNotSuper:t.isNotSuper,model:t.model}}),t._v(" "),i("time-set",{attrs:{isNotSuper:t.isNotSuper,model:t.model}}),t._v(" "),i("server-backup",{attrs:{isNotSuper:t.isNotSuper,model:t.model}})],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("backup-restore",{attrs:{isNotSuper:t.isNotSuper,model:t.model}}),t._v(" "),i("ud-tpl")],1)],1)],1)},[],!1,null,null,null));O.options.__file="index.vue";e.default=O.exports},BNNy:function(t,e,i){"use strict";var s=function(t,e,i,s){return{pattern:"string"==typeof t?new RegExp(t,s):t,message:e||"输入格式不匹配",trigger:i||"change"}},n=function(t,e,i,n){return s("^.{"+t+","+e+"}$",i,"change",n)},a=function(t,e,i){return s("^[0-9]{"+t+","+e+"}$",i)},r=function(t,e,i,s){return{validator:function(s,n,a){""===n&&a(),n+="";var r=parseInt(n);n.length===(r+"").length&&t<=r&&r<=e?a():a(new Error(i||$.tpl("请输入{min} ~ {max}范围内的整数",{min:t,max:e})))},trigger:s||"change"}},o=function(t){return $.tpl("限制{size}位字符输入",{size:t})},l=function(t){return $.tpl("仅支持数字输入，限制最大输入{size}位字符，最小为1位字符",{size:t})},c=/^[0-9]{20}$/,u=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,d={validator:function(t,e,i){""===e&&i(),c.test(e)?i():u.test(e)?i():i(new Error("IP地址格式不正确"))},trigger:"change"},p=/^((25[0-5]|2[0-4]\d|[01]?\d\d?)($|(?!\.$)\.)){4}$|^((25[0-5]|2[0-4]\d|[01]?\d\d?)($|(?!\.$)\.)){3}\*$|^((25[0-5]|2[0-4]\d|[01]?\d\d?)($|(?!\.$)\.)){2}\*\.((25[0-5]|2[0-4]\d|[01]?\d\d?))$|^((25[0-5]|2[0-4]\d|[01]?\d\d?)($|(?!\.$)\.)){2}\*\.\*$|^((25[0-5]|2[0-4]\d|[01]?\d\d?)($|(?!\.$)\.)){3}((25[0-5]|2[0-4]\d|[01]?\d\d?))\-((25[0-5]|2[0-4]\d|[01]?\d\d?))$/,f={validator:function(t,e,i){""===e&&i();for(var s=e.trim().split(/,|，/),n=0,a=0;a<s.length;a++)p.test(s[a])||n++;n>0?i(new Error("IP格式错误")):i()},trigger:"change"},m=n(1,16,o(16)),v=n(1,18,o(18)),h=n(1,20,o(20)),g=n(1,24,o(24)),S=n(1,25,o(25)),b=n(1,32,o(32)),_=n(1,36,o(36)),y=n(1,40,o(40)),C=n(1,45,o(45)),k=n(1,50,o(50)),F=n(1,64,o(64)),x=n(1,80,o(80)),w=n(1,100,o(100)),T=n(1,128,o(128),"m"),B=n(1,150,o(150)),E=n(1,250,o(250)),D=n(1,1e3,o(1e3)),N=n(1,1500,o(1500)),U=n(1,45,o(45)),A=function(t,e,i,n){return s("^[a-zA-Z0-9/_-]{"+t+","+e+"}$",i,"change",n)}(1,64,"仅允许输入字母、数字、下划线、中线、以及 / 输入，长度范围 1 ~ 64 位"),O=a(1,4,l(4)),j=a(1,5,l(5)),R=a(1,6,l(6)),I=a(1,10,l(10)),z=a(1,11,l(11)),L=a(1,18,l(18)),H=a(1,20,l(20)),P=a(1,24,l(24)),q=a(1,25,l(25)),J=a(1,32,l(32)),M=a(1,36,l(36)),Z=a(1,50,l(50)),G=a(1,64,l(64)),W=r(5,20),X=r(1,99),K=r(1,100),V=r(0,128),Y=r(1,512),Q=r(1,999),tt=r(1,1e3),et=r(1,3e3),it=r(1,3600),st=r(1,9999),nt=r(1,99999),at=r(5,60,"可输入5-60中的任何数字"),rt=s("^(([1-9]{1}[0-9]{0,6}))$","可输入1—9999999中的任何数字"),ot=s("^(([1-9]{1}[0-9]{0,5}))$","可输入1—999999中的任何数字"),lt=s(/^(([^<>()[\]\\.,;:\s@\\"]+(\.[^<>()[\]\\.,;:\s@\\"]+)*)|(\\".+\\"))@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"邮箱格式不正确"),ct=s("^(([1-9]{1}[0-9]{0,3})|10000|0)$","可输入0—10000中的任何数字，0的级别最小，10000的级别最大"),ut=s("^(([1-9]\\d{0,4})|0)(\\.\\d{1,2})?$","支持数字输入，支持小数点后2位，最大支持小数点前4位数字输入，最大9999G"),dt=s("^[^&#\\s一-龥]{1,30}$","支持1 ~ 30位，除了中文、 空格、' & '、 '#' 以外的字符输入"),pt=s("^[a-zA-Z0-9_]{1,30}$","密码由数字、字母、下划线组成，长度为1~30位"),ft=s(/^[0-9]{1,20}$/,"请输入1~20位长度的数字"),mt=s(/^\d{13}$|^\d{20}$/,"请输入13或20位长度的数字"),vt=s(/^\d{1,20}$/,"请输入1~20位长度的数字"),ht=s(/^[1-9]\d*$/,"仅支持输入非零整数"),gt=s(/^[1-9]\d?$|^100$/,"仅支持输入非零整数, 数字范围1~100"),St=r(0,1e3,"仅支持数字输入，默认为4，不输入数字则不做限制，最大可设1000路"),bt=s(/^[0-9\\-]{1,20}$/,"电话号码格式不正确,例如 010-82325561, 支持20位输入"),_t=s(u,"IP地址格式不正确"),yt=r(1,65535,"端口号请输入1到65535的整数"),Ct=s("^(([1-9]{1}[0-9]{0,4}))$|^[0-9]{20}$","可输入1—99999中的任何数字，或20位的国标编号"),$t=s("^(([1-9]{1}[0-9]{0,4}))$","可输入1—99999中的任何数字"),kt=s("^(([1-9]\\d{0,19})|0)(\\.\\d{1,2})?$","支持20位数字，精确到小数点后俩位"),Ft=s("^(([1-9]{1}[0-9]{0,2}))$|^1000$","可输入1—1000中的任何数字"),xt=s("^([1-9]{1}[0-9]{0,2})$|^([1-2]{1})([0-9]{0,3})$|^3000$","可输入1—3000中的任何数字"),wt=s("^-?(?:(?:180(?:\\.0{1,16})?)|(?:(?:(?:1[0-7]\\d)|(?:[1-9]?\\d))(?:\\.\\d{1,16})?))$","经度范围：-180~180，精确到小数点后16位"),Tt=s("^-?(?:90(?:\\.0{1,16})?|(?:[1-8]?\\d(?:\\.\\d{1,16})?))$","纬度范围：-90~90，精确到小数点后16位"),Bt=s("^(([1-9]{1}[0-9]{0,3}))$","可输入1—9999中的任何数字"),Et=s("^(([1-9]\\d{0,9})|0)(\\.\\d{1,2})?$","支持10位数字，精确到小数点后俩位"),Dt=s("^([1-9]\\d{0,4})?$","最大支持5位数字输入"),Nt=s("^([1-9]\\d{0,7})?$","最大支持8位数字输入"),Ut=s("^([0-9a-fA-F]{2}[:-]){5}([0-9a-fA-F]{2})$","MAC地址格式不正确,格式如: 00:A3:19:EF:E4:24"),At=s(function(){var t="http, https, ftp".split(",").join("|").replace(/\s/g,"");return new RegExp("^(?:(?:"+t+")://)?(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-?)*[a-z\\u00a1-\\uffff0-9])*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))?)(?::\\d{2,5})?(?:/[^\\s]*)?$","i")}()),Ot={validator:function(t,e,i){""===e&&i();var s,n=function(){return i(new Error("身份证号填写错误, 请重新填写"))};if(e=e.trim(),/^\d{15}$/.test(e)||/^\d{17}[\dXx]{1}$/.test(e)||n(),s=18===e.length?e.substr(6,8):"19"+e.substr(6,6),function(t,e,i,s){if(isNaN(t)||isNaN(e)||isNaN(i))return!1;if(i.length>2||e.length>2||t.length>4)return!1;if(i=parseInt(i,10),e=parseInt(e,10),(t=parseInt(t,10))<1e3||t>9999||e<=0||e>12)return!1;var n=[31,28,31,30,31,30,31,31,30,31,30,31];if((t%400==0||t%100!=0&&t%4==0)&&(n[1]=29),i<=0||i>n[e-1])return!1;if(!0===s){var a=new Date,r=a.getFullYear(),o=a.getMonth(),l=a.getDate();return t<r||t===r&&e-1<o||t===r&&e-1===o&&i<l}return!0}(parseInt(s.substr(0,4),10),parseInt(s.substr(4,2),10),parseInt(s.substr(6,2),10))||n(),18===e.length){for(var a=0,r=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],o=0;o<17;o++)a+=parseInt(e.charAt(o),10)*r[o];a=(12-a%11)%11,("X"!==e.charAt(17).toUpperCase()?parseInt(e.charAt(17),10):10)===a?i():n()}i()},trigger:"change"},jt=function(t,e,i,s){return i=i||"支持"+t+"~"+e+"位的中文、英文（大小写）、整数、下划线、中线、/、. 、空格等输入",{validator:function(s,n,a){void 0!=n&&""!=n||a(),new RegExp("^[a-zA-Z0-9_-/.sΑ-￥]{"+t+","+e+"}$").test(n)||a(new Error(i)),a()},trigger:s||"change"}},Rt=jt(1,30),It=jt(1,64);e.a={required:function(t,e){return{validator:function(e,i,s){$.isArray(i)?0===i.length?s(new Error(t||"此处为必填项")):s():""===i||void 0===i?s(new Error(t||"此处为必填项")):s()},required:!0,trigger:e||"change"}}(),account64:A,str16:m,str18:v,str20:h,str24:g,str25:S,str32:b,str36:_,str40:y,str45:C,str50:k,str64:F,str80:x,str100:w,str128:T,str150:B,str250:E,str1000:D,str1500:N,strDefault:U,isInt:ht,int4:O,int5:j,int6:R,int10:I,int11:z,int18:L,int20:H,int24:P,int25:q,int32:J,int36:M,int50:Z,int64:G,int1_100:gt,num:r,num20:W,num99:X,num128:V,num100:K,num512:Y,num999:Q,num1000:tt,num3000:et,num3600:it,num9999:st,num99999:nt,name:jt,name30:Rt,name64:It,level:ct,gbId:ft,gbId2:mt,civilCode:vt,chanNo:Ct,id:Ot,ip:_t,multiIp:f,ip4gb:d,port:yt,email:lt,maxWay:St,latitude:Tt,longitude:wt,password:dt,password2:pt,gbIdStep:Ft,gbIdTimes:xt,serviceSize:kt,cloudPersize:ut,extraChannelNo:$t,presetPositions:Bt,deviceInfoPrice:Et,vodInCount6:Dt,trunkInCount6:Dt,platformNum:Nt,isNum:{type:"number",message:"必须为数字值"},macAddr:Ut,phone:bt,uri:At,ptzIdleTime:at,projectNumber:rt,nodeNumber:ot,remote:function(t){var e=t.id,i=t.name,s=t.api,n=t.apiPrefix,a=t.msg;return{validator:function(t,r,o){if(""===r)o();else{var l={};l[i]=r,e&&(l.id=e),Service[s](l,n).then(function(t){t.data.status?o(new Error(a||t.data.message)):o()},function(t){o(new Error(t.data.message))})}},trigger:"blur"}}}},CJy8:function(t,e,i){"use strict";var s=i("S3qq");i.n(s).a},EdEn:function(t,e,i){"use strict";var s=i("wY2X");i.n(s).a},Gd76:function(t,e){t.exports=function(t,e,i){var s=new Blob([t],{type:i||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(s,e);else{var n=window.URL.createObjectURL(s),a=document.createElement("a");a.style.display="none",a.href=n,a.setAttribute("download",e),void 0===a.download&&a.setAttribute("target","_blank"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)}}},HDHJ:function(t,e,i){},"I+Ds":function(t,e,i){"use strict";e.a={data:function(){return{model:{},inline:!1,loading:!1}},props:{title:String},computed:{dialog:function(){return this.find("dialog")},renderInit:function(){return window.formFactoryRender.bind(this,this.fields,{})}},methods:{start:function(t){this.loading=!0,$.fire(t)},end:function(t){var e=this;$.fire(t),setTimeout(function(){e.loading=!1},200)},find:function(t){return $.ref.call(this,t)},closest:function(t){return $.pref.call(this,t)},getForm:function(){return this.$refs.formFactory.$refs.form},validate:function(t,e,i){var s=this;try{this.getForm().validate(function(i,n){if(!i)return e&&e.call(s,n),!1;t&&t.call(s)},i)}catch(t){console.log(t)}},submit:function(t){this.validate(this.saveAjax)},resetForm:function(t){this.getForm().resetFields(t||this.defModel)},close:function(){this.dialog.close(),this.tab&&(this.tab="first")}}}},S3qq:function(t,e,i){},UELl:function(t,e,i){"use strict";var s=i("cjZs");i.n(s).a},XHCu:function(t,e,i){"use strict";var s=i("gfza");i.n(s).a},cjZs:function(t,e,i){},d9vJ:function(t,e,i){"use strict";var s=i("4non");i.n(s).a},gJuD:function(t,e,i){"use strict";var s=i("HDHJ");i.n(s).a},gfza:function(t,e,i){},kKWf:function(t,e,i){"use strict";var s=i("Gd76"),n=i.n(s);e.a={data:function(){return{downLoading:!1}},methods:{timeRangeChangeFn:function(){var t=this.filter.timeRange,e=[$.getCurDay().from,$.getCurDay().to];return $.isEmptyFn(t)?this.filter.timeRange=["",""]:this.filter.timeRange.every(function(t){return 0==t})?this.filter.timeRange=e:this.filter.timeRange=this.filter.timeRange.map(function(t){return t instanceof Date?$.Date.getTickInSec(t):t})},clearFilter:function(t,e){for(var i in this.filter)this.filter[i]="timeRange"==i?[$.getCurDay().from,$.getCurDay().to]:t&&t[i]||"";e&&e()},query:function(){var t=this;this.jtable.clear(function(){t.jtable.init()})},download:function(t,e){var i=this;this.downLoading=!0,Service[t](e||this.filter).then(function(t){i.downLoading=!1;var e=t.headers["content-disposition"],s=decodeURI(e.match(/filename=(.*)/)[1],"UTF-8");n()(t.data,s)})}}}},wY2X:function(t,e,i){}}]);